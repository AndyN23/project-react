{"ast":null,"code":"var _jsxFileName = \"/home/andrey/projects/videowall/front/src/components/login/index.js\";\nimport React, { useState } from 'react';\nimport Http from '../../components/app/http';\nimport { Row, Col, Form, Button } from \"react-bootstrap\";\nimport Toast from '../../components/app/toast';\nexport default function Login(_ref) {\n  let {\n    setToken\n  } = _ref;\n  const [user, setUser] = useState({});\n  const {\n    login\n  } = Http();\n  const [toast, setToast] = useState({});\n\n  const onSubmit = async e => {\n    e.preventDefault();\n    await login(user).then(data => {\n      if ((data === null || data === void 0 ? void 0 : data.status) === 'err') setToast({\n        'show': true,\n        'type': 'danger',\n        'title': 'Server Error',\n        'body': data.msg.err\n      });else setToken(data);\n    });\n  };\n\n  function validateForm() {\n    var _user$login, _user$pass;\n\n    return ((_user$login = user.login) === null || _user$login === void 0 ? void 0 : _user$login.length) >= 3 && ((_user$pass = user.pass) === null || _user$pass === void 0 ? void 0 : _user$pass.length) >= 3;\n  }\n\n  function onChange(e) {\n    setToast({});\n    setUser({ ...user,\n      [e.target.name]: e.target.value\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n    className: \"justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    className: \"align-self-center col-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    className: \"mb-3\",\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 21\n    }\n  }, \"Please Log In\"), /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"mb-3\",\n    controlId: \"login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 25\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(Form.Control, {\n    autoFocus: true,\n    type: \"text\",\n    name: \"login\",\n    placeholder: \"Enter a login\",\n    value: user === null || user === void 0 ? void 0 : user.login,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Form.Text, {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 25\n    }\n  }, \"Login minimum 3 chars\")), /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"mb-3\",\n    controlId: \"pass\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 25\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"password\",\n    name: \"pass\",\n    placeholder: \"Enter a password\",\n    value: user === null || user === void 0 ? void 0 : user.pass,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    className: \"mb-3\",\n    type: \"submit\",\n    disabled: !validateForm(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }, \"Login\")))), /*#__PURE__*/React.createElement(Toast, {\n    show: toast === null || toast === void 0 ? void 0 : toast.show,\n    type: toast === null || toast === void 0 ? void 0 : toast.type,\n    title: toast === null || toast === void 0 ? void 0 : toast.title,\n    body: toast === null || toast === void 0 ? void 0 : toast.body,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }));\n}","map":{"version":3,"sources":["/home/andrey/projects/videowall/front/src/components/login/index.js"],"names":["React","useState","Http","Row","Col","Form","Button","Toast","Login","setToken","user","setUser","login","toast","setToast","onSubmit","e","preventDefault","then","data","status","msg","err","validateForm","length","pass","onChange","target","name","value","show","type","title","body"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport Http from '../../components/app/http';\nimport {Row, Col, Form, Button} from \"react-bootstrap\"\nimport Toast from '../../components/app/toast';\n\nexport default function Login({setToken}) {\n    const [user, setUser] = useState({});\n    const {login} = Http();\n    const [toast, setToast] = useState({});\n\n    const onSubmit = async e => {\n        e.preventDefault();\n\n        await login(user)\n            .then(data => {\n                if (data?.status === 'err')\n                    setToast({ 'show': true, 'type': 'danger', 'title':'Server Error', 'body': data.msg.err})\n                else\n                    setToken(data)\n            });\n    }\n\n    function validateForm() {\n        return user.login?.length >= 3 && user.pass?.length >= 3;\n    }\n    function onChange(e) {\n        setToast({})\n        setUser({\n            ...user, \n            [e.target.name]: e.target.value\n        });\n    }\n\n    return (\n        <>\n        <Row className=\"justify-content-center\">\n            <Col className=\"align-self-center col-6\">\n                <Form className=\"mb-3\" onSubmit={onSubmit}>\n                    <h1 className=\"text-center\">Please Log In</h1>\n                    <Form.Group className=\"mb-3\" controlId=\"login\">\n                        <Form.Label>Login</Form.Label>\n                        <Form.Control\n                            autoFocus\n                            type=\"text\"\n                            name=\"login\"\n                            placeholder=\"Enter a login\"\n                            value={user?.login}\n                            onChange={onChange}\n                        />\n                        <Form.Text className=\"text-muted\">\n                            Login minimum 3 chars\n                        </Form.Text>\n                    </Form.Group>\n                    <Form.Group className=\"mb-3\" controlId=\"pass\">\n                        <Form.Label>Password</Form.Label>\n                        <Form.Control\n                            type=\"password\"\n                            name=\"pass\"\n                            placeholder=\"Enter a password\"\n                            value={user?.pass}\n                            onChange={onChange}\n                        />\n                    </Form.Group>\n                    <Button className='mb-3' type=\"submit\" disabled={!validateForm()}>Login</Button>\n                </Form>\n            </Col>\n        </Row>\n        <Toast show={toast?.show} type={toast?.type} title={toast?.title} body={toast?.body}/>\n        </>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}