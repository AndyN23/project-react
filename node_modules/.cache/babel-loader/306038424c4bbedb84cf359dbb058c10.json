{"ast":null,"code":"var _jsxFileName = \"/home/andrey/projects/videowall/front/src/components/login/index.js\";\nimport React, { useState } from 'react';\nimport Http from '../../components/app/http';\nimport Toast from '../../components/app/toast';\nimport MyButton from '../ui/MyButton';\nexport default function Login(_ref) {\n  let {\n    setToken\n  } = _ref;\n  const [user, setUser] = useState({});\n  const {\n    login\n  } = Http();\n  const [toast, setToast] = useState({});\n\n  const onSubmit = async e => {\n    e.preventDefault();\n    await login(user).then(data => {\n      if ((data === null || data === void 0 ? void 0 : data.status) === 'err') setToast({\n        'show': true,\n        'type': 'danger',\n        'title': 'Server Error',\n        'body': data.msg.err\n      });else setToken(data);\n    });\n  };\n\n  function validateForm() {\n    var _user$login, _user$pass;\n\n    return ((_user$login = user.login) === null || _user$login === void 0 ? void 0 : _user$login.length) >= 3 && ((_user$pass = user.pass) === null || _user$pass === void 0 ? void 0 : _user$pass.length) >= 3;\n  }\n\n  function onChange(e) {\n    setToast({});\n    setUser({ ...user,\n      [e.target.name]: e.target.value\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login__page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login__form-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form\",\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"form__title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 21\n    }\n  }, \"VIDEOWALL\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form__block-input\",\n    controlId: \"login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    autoFocus: true,\n    type: \"text\",\n    className: \"login\",\n    name: \"login\",\n    placeholder: \"Enter a login\",\n    value: user === null || user === void 0 ? void 0 : user.login,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form__block-input\",\n    controlId: \"pass\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    className: \"password\",\n    name: \"pass\",\n    placeholder: \"Enter a password\",\n    value: user === null || user === void 0 ? void 0 : user.pass,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form__block-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(MyButton, {\n    buttonText: {\n      text: \"Войти\"\n    },\n    type: \"submit\",\n    disabled: !validateForm(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(MyButton, {\n    buttonText: {\n      text: \"Закрыть\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 25\n    }\n  }))))), /*#__PURE__*/React.createElement(Toast, {\n    show: toast === null || toast === void 0 ? void 0 : toast.show,\n    type: toast === null || toast === void 0 ? void 0 : toast.type,\n    title: toast === null || toast === void 0 ? void 0 : toast.title,\n    body: toast === null || toast === void 0 ? void 0 : toast.body,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }));\n}","map":{"version":3,"sources":["/home/andrey/projects/videowall/front/src/components/login/index.js"],"names":["React","useState","Http","Toast","MyButton","Login","setToken","user","setUser","login","toast","setToast","onSubmit","e","preventDefault","then","data","status","msg","err","validateForm","length","pass","onChange","target","name","value","text","show","type","title","body"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport Http from '../../components/app/http';\nimport Toast from '../../components/app/toast';\nimport MyButton from '../ui/MyButton';\n\nexport default function Login({setToken}) {\n    const [user, setUser] = useState({});\n    const {login} = Http();\n    const [toast, setToast] = useState({});\n\n    const onSubmit = async e => {\n        e.preventDefault();\n\n        await login(user)\n            .then(data => {\n                if (data?.status === 'err')\n                    setToast({ 'show': true, 'type': 'danger', 'title':'Server Error', 'body': data.msg.err})\n                else\n                    setToken(data)\n            });\n    }\n\n    function validateForm() {\n        return user.login?.length >= 3 && user.pass?.length >= 3;\n    }\n    function onChange(e) {\n        setToast({})\n        setUser({\n            ...user, \n            [e.target.name]: e.target.value\n        });\n    }\n\n    return (\n        <>\n        <div className=\"login__page\">\n            <div className=\"login__form-block\">\n                <form className=\"form\" onSubmit={onSubmit}>\n                    <h1 className=\"form__title\">VIDEOWALL</h1>\n                    <div className=\"form__block-input\" controlId=\"login\">\n                        {/* <label>Login</label> */}\n                        {/* <Form.Control\n                            autoFocus\n                            type=\"text\"\n                            name=\"login\"\n                            placeholder=\"Enter a login\"\n                            value={user?.login}\n                            onChange={onChange}\n                        /> */}\n                        <input autoFocus\n                            type=\"text\"\n                            className=\"login\"\n                            name=\"login\"\n                            placeholder=\"Enter a login\"\n                            value={user?.login}\n                            onChange={onChange} >\n                        </input>   \n                        {/* <span className=\"text-muted\">\n                            Login minimum 3 chars\n                        </span> */}\n                    </div>\n                    <div className=\"form__block-input\" controlId=\"pass\">\n                        {/* <label>Password</label> */}\n                        {/* <Form.Control\n                            type=\"password\"\n                            name=\"pass\"\n                            placeholder=\"Enter a password\"\n                            value={user?.pass}\n                            onChange={onChange}\n                        /> */}\n                        <input\n                            type=\"password\"\n                            className=\"password\"\n                            name=\"pass\"\n                            placeholder=\"Enter a password\"\n                            value={user?.pass}\n                            onChange={onChange}>\n                        </input>\n                    </div>\n                    <div className='form__block-button'>\n                        <MyButton buttonText={{text: \"Войти\"}} type=\"submit\" disabled={!validateForm()}/>\n                        <MyButton buttonText={{text: \"Закрыть\"}}/>\n                    </div>\n                    \n                </form>\n            </div>\n        </div>\n        <Toast show={toast?.show} type={toast?.type} title={toast?.title} body={toast?.body}/>\n        </>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}